!function(){"use strict";var e,t={312:function(){var e=window.wp.blocks,t=window.wp.element,a=window.wp.components,l=window.wp.blockEditor,r=(0,window.wp.data.withSelect)((e=>{const{getEntityRecord:t}=e("core"),a=e("core/editor").getCurrentPostType(),l=e("core/editor").getCurrentPostId(),r=t("postType",a,l);return r&&r.categories?{categories:r.categories.map((e=>t("taxonomy","category",e))).filter(Boolean).map((e=>e.slug)).join(", ")}:{categories:""}}))((({attributes:e,setAttributes:r,categories:n})=>{const[c,i]=(0,t.useState)(!1),s=e.images||[],o=e.text||"",m=void 0!==e.stars?e.stars:0,u=()=>i(!0);return(0,t.useEffect)((()=>{r({categories:n})}),[n]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a.Placeholder,{icon:"format-gallery"},(0,t.createElement)(l.MediaUploadCheck,null,(0,t.createElement)(l.MediaUpload,{onSelect:e=>{r({images:[...s,...e.slice(0,20-s.length)]})},allowedTypes:["image"],multiple:!0,gallery:!0,value:s.map((e=>e.id)),render:({open:e})=>(0,t.createElement)(a.Button,{onClick:e},"Agregar imágenes")})),(0,t.createElement)("div",{className:"container-all"},(0,t.createElement)("p",null,n),(0,t.createElement)(a.SelectControl,{label:"Estrellas",value:m,options:[{label:"0 estrellas",value:0},{label:"1 estrella",value:1},{label:"2 estrellas",value:2},{label:"3 estrellas",value:3}],onChange:e=>{r({stars:parseInt(e)})}}),(0,t.createElement)("div",{className:"container-text"},(0,t.createElement)(l.RichText,{tagName:"p",value:o,onChange:e=>{r({text:e})},placeholder:"Añade tu texto aquí..."})),(0,t.createElement)("div",{className:"my-gallery-block"},s.slice(0,1).map(((e,a)=>(0,t.createElement)("div",{className:"image-large",key:e.id},(0,t.createElement)("img",{src:e.url,alt:e.alt,onClick:u})))),(0,t.createElement)("div",{className:"small-images-container"},s.slice(1,3).map(((e,a)=>(0,t.createElement)("div",{className:"image-small",key:e.id},(0,t.createElement)("img",{src:e.url,alt:e.alt,onClick:u})))))))),c&&(0,t.createElement)(a.Modal,{title:"Galería personalizada",onRequestClose:()=>i(!1)},(0,t.createElement)("div",{className:"my-gallery-modal"},s.map((e=>(0,t.createElement)("img",{key:e.id,src:e.url,alt:e.alt}))))))})),n=JSON.parse('{"u2":"to-eatin/bloque-toeatin"}');(0,e.registerBlockType)(n.u2,{edit:r,save:({attributes:e})=>{const a=e.images||[],l=e.text||"",r=e.categories||"",n=e.stars||0;return(0,t.createElement)("div",{className:"container-all"},r&&(0,t.createElement)("p",null,r),n>0&&(0,t.createElement)("p",null,"⭐".repeat(n)),(0,t.createElement)("div",{className:"my-gallery-block"},a.slice(0,1).map(((e,a)=>(0,t.createElement)("div",{className:"image-large",key:e.id},(0,t.createElement)("img",{src:e.url,alt:e.alt})))),(0,t.createElement)("div",{className:"small-images-container"},a.slice(1,3).map(((e,a)=>(0,t.createElement)("div",{className:"image-small",key:e.id},(0,t.createElement)("img",{src:e.url,alt:e.alt})))))),(0,t.createElement)("div",{className:"container-text"},(0,t.createElement)("p",null,l)))}})}},a={};function l(e){var r=a[e];if(void 0!==r)return r.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=function(t,a,r,n){if(!a){var c=1/0;for(m=0;m<e.length;m++){a=e[m][0],r=e[m][1],n=e[m][2];for(var i=!0,s=0;s<a.length;s++)(!1&n||c>=n)&&Object.keys(l.O).every((function(e){return l.O[e](a[s])}))?a.splice(s--,1):(i=!1,n<c&&(c=n));if(i){e.splice(m--,1);var o=r();void 0!==o&&(t=o)}}return t}n=n||0;for(var m=e.length;m>0&&e[m-1][2]>n;m--)e[m]=e[m-1];e[m]=[a,r,n]},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,c=a[0],i=a[1],s=a[2],o=0;if(c.some((function(t){return 0!==e[t]}))){for(r in i)l.o(i,r)&&(l.m[r]=i[r]);if(s)var m=s(l)}for(t&&t(a);o<c.length;o++)n=c[o],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(m)},a=self.webpackChunkbloque_toeatin=self.webpackChunkbloque_toeatin||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var r=l.O(void 0,[431],(function(){return l(312)}));r=l.O(r)}();